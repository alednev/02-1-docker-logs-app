# основа для нашего image
FROM node

# рабочая директория нашего приложения
WORKDIR /app

# задействываем кеш композера
COPY package.json .

# подготовка к запуску приложения в момент сборки образа (уже из кеша)
RUN npm install

# копирование файлов внутрь image относительно WORKDIR
COPY . .

# какой порт использует наше приложение, по-умолчанию 3000 если не указано в env.PORT
EXPOSE 3000

# непосредственная команда при запуске образа
CMD ["node", "app.js"]
